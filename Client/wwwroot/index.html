<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Eris</title>
    <base href="/"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet"/>
    <link href="css/app.css" rel="stylesheet"/>
    <link rel="icon" type="image/png" href="favicon.png"/>
    <!-- <link href="Eris.Client.styles.css" rel="stylesheet" /> -->
    <link href="manifest.json" rel="manifest"/>
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png"/>
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png"/>
</head>

<body>
<div id="app">
    <svg class="loading-progress">
        <circle r="40%" cx="50%" cy="50%"/>
        <circle r="40%" cx="50%" cy="50%"/>
    </svg>
    <div class="loading-progress-text"></div>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="js/nosleep.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        Toastify({
            text: "Tap anywhere to enable WakeLock",
            duration: 3000,
            gravity: "top",
            position: "right",
            stopOnFocus: true,
            style: {
                background: "linear-gradient(to right, rgb(59, 130, 246), rgb(37, 99, 235))",
            },
        }).showToast();
    });
    
    const nosleep = new NoSleep();
    
    // (must be wrapped in a user input event handler e.g. a mouse or touch handler)
    document.addEventListener('click', function enableNoSleep() {
        document.removeEventListener('click', enableNoSleep, false);
        nosleep.enable();

        Toastify({
            text: "WakeLock enabled",
            duration: 3000,
            gravity: "top",
            position: "right",
            stopOnFocus: true,
            style: {
                background: "linear-gradient(to right, rgb(34, 197, 94), rgb(21, 128, 61))",
            },
        }).showToast();
    }, false);
    
    // Requires secure context (HTTPS)
    //
    // if (!navigator.wakeLock) {
    //     console.debug("WakeLock API is not supported. Screen will not be kept active.")
    //     alert("WakeLock API is not supported. Screen will not be kept active.")
    //
    // } else {
    //     try {
    //         navigator.wakeLock.request("screen");
    //         console.debug("WakeLock enabled. Screen will be kept active.");
    //         alert("WakeLock enabled. Screen will be kept active.");
    //     } catch (err) {
    //         console.error(`WakeLock could not be enabled.`, err);
    //         alert(`WakeLock could not be enabled. ${err}`);
    //     }
    // }
</script>
<script src="_content/Microsoft.AspNetCore.Components.WebAssembly.Authentication/AuthenticationService.js"></script>
<script src="_framework/blazor.webassembly.js"></script>
<script src="_content/MudBlazor/MudBlazor.min.js"></script>
<script>navigator.serviceWorker.register('service-worker.js');</script>
</body>

</html>
